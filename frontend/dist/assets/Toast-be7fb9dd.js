import{a$ as k,r as s,b0 as H,j as i,b1 as g,b2 as y,b3 as D,u as j,b4 as I,c as p,b5 as M,b6 as A}from"./index-5fa97d90.js";var T=Math.pow(2,31)-1;function N(t,e,a){var n=a-Date.now();t.current=n<=T?setTimeout(e,n):setTimeout(function(){return N(t,e,a)},T)}function G(){var t=k(),e=s.useRef();return H(function(){return clearTimeout(e.current)}),s.useMemo(function(){var a=function(){return clearTimeout(e.current)};function n(r,o){o===void 0&&(o=0),t()&&(a(),o<=T?e.current=setTimeout(r,o):N(e,r,Date.now()+o))}return{set:n,clear:a}},[])}const O={[y]:"showing",[D]:"showing show"},b=s.forwardRef((t,e)=>i.jsx(g,{...t,ref:e,transitionClasses:O}));b.displayName="ToastFade";const S=b,W=s.createContext({onClose(){}}),w=W,$=s.forwardRef(({bsPrefix:t,closeLabel:e="Close",closeVariant:a,closeButton:n=!0,className:r,children:o,...l},u)=>{t=j(t,"toast-header");const c=s.useContext(w),d=I(f=>{c==null||c.onClose==null||c.onClose(f)});return i.jsxs("div",{ref:u,...l,className:p(t,r),children:[o,n&&i.jsx(M,{"aria-label":e,variant:a,onClick:d,"data-dismiss":"toast"})]})});$.displayName="ToastHeader";const X=$,_=A("toast-body"),B=s.forwardRef(({bsPrefix:t,className:e,transition:a=S,show:n=!0,animation:r=!0,delay:o=5e3,autohide:l=!1,onClose:u,bg:c,...d},f)=>{t=j(t,"toast");const v=s.useRef(o),m=s.useRef(u);s.useEffect(()=>{v.current=o,m.current=u},[o,u]);const h=G(),x=!!(l&&n),C=s.useCallback(()=>{x&&(m.current==null||m.current())},[x]);s.useEffect(()=>{h.set(C,v.current)},[h,C]);const F=s.useMemo(()=>({onClose:u}),[u]),E=!!(a&&r),R=i.jsx("div",{...d,ref:f,className:p(t,e,c&&`bg-${c}`,!E&&(n?"show":"hide")),role:"alert","aria-live":"assertive","aria-atomic":"true"});return i.jsx(w.Provider,{value:F,children:E&&a?i.jsx(a,{in:n,unmountOnExit:!0,children:R}):R})});B.displayName="Toast";const U=Object.assign(B,{Body:_,Header:X});export{U as T};
