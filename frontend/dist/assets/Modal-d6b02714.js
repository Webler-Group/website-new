import{u as E,c as g,d as Ee}from"./ThemeProvider-c318c21f.js";import{d as K,b as Te,r as L,c as $e,o as be}from"./useMergedRefs-f5c2a768.js";import{a as je}from"./useWindow-763af26a.js";import{u as z}from"./Anchor-1fe32030.js";import{A as ke,u as Be,M as Ae,B as xe,g as De}from"./AbstractModalHeader-f9d4f376.js";import{F as q,e as Oe}from"./CloseButton-439f23fc.js";import{r as o,j as n}from"./index-b2f3d98e.js";import{c as T}from"./createWithBsPrefix-c6deafcc.js";import{d as Fe}from"./divWithClassName-9b80bbe4.js";var M;function _(t){if((!M&&M!==0||t)&&K){var a=document.createElement("div");a.style.position="absolute",a.style.top="-9999px",a.style.width="50px",a.style.height="50px",a.style.overflow="scroll",document.body.appendChild(a),M=a.offsetWidth-a.clientWidth,document.body.removeChild(a)}return M}const Ie=T("modal-body"),G=o.forwardRef(({bsPrefix:t,className:a,contentClassName:i,centered:c,size:l,fullscreen:r,children:y,scrollable:w,...R},v)=>{t=E(t,"modal");const u=`${t}-dialog`,s=typeof r=="string"?`${t}-fullscreen-${r}`:`${t}-fullscreen`;return n.jsx("div",{...R,ref:v,className:g(u,a,l&&`${t}-${l}`,c&&`${u}-centered`,w&&`${u}-scrollable`,r&&s),children:n.jsx("div",{className:g(`${t}-content`,i),children:y})})});G.displayName="ModalDialog";const J=G,He=T("modal-footer"),Q=o.forwardRef(({bsPrefix:t,className:a,closeLabel:i="Close",closeButton:c=!1,...l},r)=>(t=E(t,"modal-header"),n.jsx(ke,{ref:r,...l,className:g(a,t),closeLabel:i,closeButton:c})));Q.displayName="ModalHeader";const Ue=Q,We=Fe("h4"),Le=T("modal-title",{Component:We});function ze(t){return n.jsx(q,{...t,timeout:null})}function _e(t){return n.jsx(q,{...t,timeout:null})}const V=o.forwardRef(({bsPrefix:t,className:a,style:i,dialogClassName:c,contentClassName:l,children:r,dialogAs:y=J,"aria-labelledby":w,"aria-describedby":R,"aria-label":v,show:u=!1,animation:s=!0,backdrop:p=!0,keyboard:X=!0,onEscapeKeyDown:$,onShow:Y,onHide:h,container:Z,autoFocus:P=!0,enforceFocus:ee=!0,restoreFocus:te=!0,restoreFocusOptions:ae,onEntered:oe,onExit:b,onExiting:ne,onEnter:j,onEntering:k,onExited:B,backdropClassName:A,manager:x,...re},se)=>{const[le,de]=o.useState({}),[ie,D]=o.useState(!1),S=o.useRef(!1),C=o.useRef(!1),f=o.useRef(null),[m,ce]=je(),ue=Te(se,ce),O=z(h),fe=Ee();t=E(t,"modal");const me=o.useMemo(()=>({onHide:O}),[O]);function F(){return x||De({isRTL:fe})}function I(e){if(!K)return;const d=F().getScrollbarWidth()>0,W=e.scrollHeight>be(e).documentElement.clientHeight;de({paddingRight:d&&!W?_():void 0,paddingLeft:!d&&W?_():void 0})}const N=z(()=>{m&&I(m.dialog)});Be(()=>{L(window,"resize",N),f.current==null||f.current()});const ge=()=>{S.current=!0},pe=e=>{S.current&&m&&e.target===m.dialog&&(C.current=!0),S.current=!1},H=()=>{D(!0),f.current=Oe(m.dialog,()=>{D(!1)})},he=e=>{e.target===e.currentTarget&&H()},Me=e=>{if(p==="static"){he(e);return}if(C.current||e.target!==e.currentTarget){C.current=!1;return}h==null||h()},ye=e=>{X?$==null||$(e):(e.preventDefault(),p==="static"&&H())},we=(e,d)=>{e&&I(e),j==null||j(e,d)},Re=e=>{f.current==null||f.current(),b==null||b(e)},ve=(e,d)=>{k==null||k(e,d),$e(window,"resize",N)},Se=e=>{e&&(e.style.display=""),B==null||B(e),L(window,"resize",N)},Ce=o.useCallback(e=>n.jsx("div",{...e,className:g(`${t}-backdrop`,A,!s&&"show")}),[s,A,t]),U={...i,...le};U.display="block";const Ne=e=>n.jsx("div",{role:"dialog",...e,style:U,className:g(a,t,ie&&`${t}-static`,!s&&"show"),onClick:p?Me:void 0,onMouseUp:pe,"aria-label":v,"aria-labelledby":w,"aria-describedby":R,children:n.jsx(y,{...re,onMouseDown:ge,className:c,contentClassName:l,children:r})});return n.jsx(Ae.Provider,{value:me,children:n.jsx(xe,{show:u,ref:ue,backdrop:p,container:Z,keyboard:!0,autoFocus:P,enforceFocus:ee,restoreFocus:te,restoreFocusOptions:ae,onEscapeKeyDown:ye,onShow:Y,onHide:h,onEnter:we,onEntering:ve,onEntered:oe,onExit:Re,onExiting:ne,onExited:Se,manager:F(),transition:s?ze:void 0,backdropTransition:s?_e:void 0,renderBackdrop:Ce,renderDialog:Ne})})});V.displayName="Modal";const Pe=Object.assign(V,{Body:Ie,Header:Ue,Title:Le,Footer:He,Dialog:J,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});export{Pe as M};
