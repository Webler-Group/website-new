import{b0 as k,r as s,b1 as H,j as i,b2 as g,b3 as y,b4 as D,u as b,b5 as I,c as j,b6 as M,b7 as A}from"./index-39cfc24f.js";var T=Math.pow(2,31)-1;function p(t,e,a){var n=a-Date.now();t.current=n<=T?setTimeout(e,n):setTimeout(function(){return p(t,e,a)},T)}function G(){var t=k(),e=s.useRef();return H(function(){return clearTimeout(e.current)}),s.useMemo(function(){var a=function(){return clearTimeout(e.current)};function n(r,o){o===void 0&&(o=0),t()&&(a(),o<=T?e.current=setTimeout(r,o):p(e,r,Date.now()+o))}return{set:n,clear:a}},[])}const O={[y]:"showing",[D]:"showing show"},N=s.forwardRef((t,e)=>i.jsx(g,{...t,ref:e,transitionClasses:O}));N.displayName="ToastFade";const S=N,W=s.createContext({onClose(){}}),w=W,B=s.forwardRef(({bsPrefix:t,closeLabel:e="Close",closeVariant:a,closeButton:n=!0,className:r,children:o,...l},u)=>{t=b(t,"toast-header");const c=s.useContext(w),d=I(f=>{c==null||c.onClose==null||c.onClose(f)});return i.jsxs("div",{ref:u,...l,className:j(t,r),children:[o,n&&i.jsx(M,{"aria-label":e,variant:a,onClick:d,"data-dismiss":"toast"})]})});B.displayName="ToastHeader";const X=B,_=A("toast-body"),F=s.forwardRef(({bsPrefix:t,className:e,transition:a=S,show:n=!0,animation:r=!0,delay:o=5e3,autohide:l=!1,onClose:u,bg:c,...d},f)=>{t=b(t,"toast");const v=s.useRef(o),m=s.useRef(u);s.useEffect(()=>{v.current=o,m.current=u},[o,u]);const h=G(),x=!!(l&&n),C=s.useCallback(()=>{x&&(m.current==null||m.current())},[x]);s.useEffect(()=>{h.set(C,v.current)},[h,C]);const $=s.useMemo(()=>({onClose:u}),[u]),E=!!(a&&r),R=i.jsx("div",{...d,ref:f,className:j(t,e,c&&`bg-${c}`,!E&&(n?"show":"hide")),role:"alert","aria-live":"assertive","aria-atomic":"true"});return i.jsx(w.Provider,{value:$,children:E&&a?i.jsx(a,{in:n,unmountOnExit:!0,children:R}):R})});F.displayName="Toast";const U=Object.assign(F,{Body:_,Header:X});export{U as T};
