import{r as m,j as i,g as I}from"./index-b2f3d98e.js";import{P as N}from"./ProfileAvatar-4b9caa46.js";import{F as j}from"./Form-4647d33b.js";import{u as g,c as w}from"./ThemeProvider-c318c21f.js";import{u as $}from"./useMergedRefs-f5c2a768.js";import{u as S,B as k}from"./Nav-131532f4.js";import{u as C}from"./Anchor-1fe32030.js";import{m as R}from"./NavContext-f8abb837.js";const y=m.forwardRef(({bsPrefix:e,active:d,disabled:c,eventKey:p,className:l,variant:n,action:u,as:f,...t},r)=>{e=g(e,"list-group-item");const[o,x]=S({key:R(p,t.href),active:d,...t}),h=C(a=>{if(c){a.preventDefault(),a.stopPropagation();return}o.onClick(a)});c&&t.tabIndex===void 0&&(t.tabIndex=-1,t["aria-disabled"]=!0);const s=f||(u?t.href?"a":"button":"div");return i.jsx(s,{ref:r,...t,...o,onClick:h,className:w(l,e,x.isActive&&"active",c&&"disabled",n&&`${e}-${n}`,u&&`${e}-action`)})});y.displayName="ListGroupItem";const z=y,v=m.forwardRef((e,d)=>{const{className:c,bsPrefix:p,variant:l,horizontal:n,numbered:u,as:f="div",...t}=$(e,{activeKey:"onSelect"}),r=g(p,"list-group");let o;return n&&(o=n===!0?"horizontal":`horizontal-${n}`),i.jsx(k,{ref:d,...t,as:f,className:w(c,r,l&&`${r}-${l}`,o&&`${r}-${o}`,u&&`${r}-numbered`)})});v.displayName="ListGroup";const b=Object.assign(v,{Item:z}),A=({value:e,setValue:d,onSelect:c,placeholder:p,maxWidthPx:l})=>{const{sendJsonRequest:n}=I(),[u,f]=m.useState([]),[t,r]=m.useState(!1),o=m.useRef(null);m.useEffect(()=>{if(!e)return;const s=setTimeout(async()=>{const a=await n("/Profile/Search","POST",{searchQuery:e});a&&a.users&&f(a.users)},500);return()=>clearTimeout(s)},[e]);const x=s=>{c(s),o.current&&o.current.blur()},h=l?{width:"100%",maxWidth:`${l}px`}:{width:"100%"};return i.jsxs("div",{className:"position-relative",style:h,children:[i.jsx(j.Control,{autoComplete:"off",ref:o,type:"text",value:e,onChange:s=>d(s.target.value),placeholder:p??"Search users...",size:"sm",onFocus:()=>r(!0),onBlur:()=>setTimeout(()=>r(!1),100)}),t&&e&&i.jsx(b,{className:"position-absolute",style:{top:"100%",left:0,zIndex:1e3,background:"white",border:"1px solid #ccc",borderRadius:"0.25rem",maxHeight:"150px",overflowY:"auto",width:"100%",boxShadow:"0 2px 6px rgba(0,0,0,0.15)"},children:u.map(s=>i.jsxs(b.Item,{action:!0,onClick:()=>x(s),onMouseDown:a=>a.preventDefault(),style:{cursor:"pointer"},className:"d-flex align-items-start gap-2",children:[i.jsx(N,{avatarImage:s.avatar,size:32}),i.jsx("span",{children:s.name})]},s.id))}),t&&e&&u.length===0&&i.jsx("div",{className:"position-absolute text-muted small p-2",style:{top:"100%",left:0,zIndex:1e3,background:"white",border:"1px solid #ccc",borderRadius:"0.25rem",width:"100%",boxShadow:"0 2px 6px rgba(0,0,0,0.15)"},children:"No users found"})]})};export{b as L,A as U};
