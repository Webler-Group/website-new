import{aU as H,r as a,aV as g,j as i,aW as y,aX as D,aY as I,u as j,aZ as M,c as p,a_ as W,a$ as X}from"./index-38762e4d.js";var T=Math.pow(2,31)-1;function N(t,e,s){var n=s-Date.now();t.current=n<=T?setTimeout(e,n):setTimeout(function(){return N(t,e,s)},T)}function _(){var t=H(),e=a.useRef();return g(function(){return clearTimeout(e.current)}),a.useMemo(function(){var s=function(){return clearTimeout(e.current)};function n(r,o){o===void 0&&(o=0),t()&&(s(),o<=T?e.current=setTimeout(r,o):N(e,r,Date.now()+o))}return{set:n,clear:s}},[])}const A={[D]:"showing",[I]:"showing show"},w=a.forwardRef((t,e)=>i.jsx(y,{...t,ref:e,transitionClasses:A}));w.displayName="ToastFade";const G=w,O=a.createContext({onClose(){}}),$=O,B=a.forwardRef(({bsPrefix:t,closeLabel:e="Close",closeVariant:s,closeButton:n=!0,className:r,children:o,...l},u)=>{t=j(t,"toast-header");const c=a.useContext($),d=M(f=>{c==null||c.onClose==null||c.onClose(f)});return i.jsxs("div",{ref:u,...l,className:p(t,r),children:[o,n&&i.jsx(W,{"aria-label":e,variant:s,onClick:d,"data-dismiss":"toast"})]})});B.displayName="ToastHeader";const S=B,U=X("toast-body"),F=a.forwardRef(({bsPrefix:t,className:e,transition:s=G,show:n=!0,animation:r=!0,delay:o=5e3,autohide:l=!1,onClose:u,bg:c,...d},f)=>{t=j(t,"toast");const v=a.useRef(o),m=a.useRef(u);a.useEffect(()=>{v.current=o,m.current=u},[o,u]);const h=_(),x=!!(l&&n),C=a.useCallback(()=>{x&&(m.current==null||m.current())},[x]);a.useEffect(()=>{h.set(C,v.current)},[h,C]);const k=a.useMemo(()=>({onClose:u}),[u]),E=!!(s&&r),R=i.jsx("div",{...d,ref:f,className:p(t,e,c&&`bg-${c}`,!E&&(n?"show":"hide")),role:"alert","aria-live":"assertive","aria-atomic":"true"});return i.jsx($.Provider,{value:k,children:E&&s?i.jsx(s,{in:n,unmountOnExit:!0,children:R}):R})});F.displayName="Toast";const b=Object.assign(F,{Body:U,Header:S});export{b as T};
