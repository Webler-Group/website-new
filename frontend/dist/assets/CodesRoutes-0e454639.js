import{d,r,j as e,af as c,C as u,g,z as m,A as l,ac as h,H as x,at as j}from"./index-80db11cf.js";import{C as f}from"./Code-d9d12e4f.js";import{C as p}from"./CodeList-7b842335.js";import"./react-bootstrap-pagination-control.esm-b45f6320.js";const y=({MainPage:t})=>{const{sendJsonRequest:n}=d(),[s,o]=r.useState([]);r.useEffect(()=>{i()},[]);const i=async()=>{const a=await n("/Codes","POST",{page:1,count:10,filter:5,searchQuery:"",userId:null});a&&a.codes&&o(a.codes)};return e.jsxs(e.Fragment,{children:[e.jsxs(c,{children:[" ",e.jsx("title",{children:"Code Playground | Webler Codes"})," ",e.jsx("meta",{name:"description",content:"Experiment with code in multiple programming languages using Webler’s browser-based IDE. No setup required — just create, edit, and run instantly."})," "]}),e.jsx(u,{children:e.jsxs("div",{className:"row mt-2",style:{minHeight:"100vh"},children:[e.jsx("div",{className:"col-12 col-md-8",children:t}),e.jsxs("div",{className:"col-12 col-md-4",children:[e.jsx("h2",{children:"Hot today"}),e.jsx("div",{className:"my-3",children:s.map(a=>e.jsx("div",{children:e.jsx(f,{code:a,searchQuery:"",showUserProfile:!1})},a.id))})]})]})})]})},C=()=>{const[t,n]=r.useState({page:1,filter:1,searchQuery:"",language:null,ready:!1}),[s,o]=g();return r.useEffect(()=>{n({page:s.has("page")?Number(s.get("page")):1,filter:s.has("filter")?Number(s.get("filter")):1,searchQuery:s.get("query")??"",language:s.get("language"),ready:!0})},[]),r.useEffect(()=>{s.set("page",t.page.toString()),s.set("filter",t.filter.toString()),s.set("query",t.searchQuery),t.language==null?s.delete("langauge"):s.set("language",t.language),o(s,{replace:!0})},[t]),e.jsxs("div",{children:[e.jsx("h2",{children:"Codes"}),e.jsx(p,{codesState:t,setCodesState:n,showNewCodeBtn:!0})]})},w=()=>e.jsx(m,{children:e.jsx(l,{element:e.jsx(h,{Header:e.jsx(x,{variant:"light"}),Footer:e.jsx(j,{})}),children:e.jsx(l,{index:!0,element:e.jsx(y,{MainPage:e.jsx(C,{})})})})});export{w as default};
