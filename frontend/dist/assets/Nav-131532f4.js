import{d as h,a as q,q as L}from"./DataKey-e12315fd.js";import{r as c,j as g}from"./index-b2f3d98e.js";import{S as y,N as R,m as A,u as _}from"./NavContext-f8abb837.js";import{b as B}from"./useMergedRefs-f5c2a768.js";import{u as U}from"./Anchor-1fe32030.js";import{a as k}from"./Button-a8db19a8.js";const W=c.createContext(null),S=W,F=["as","active","eventKey"];function M(e,u){if(e==null)return{};var r={},a=Object.keys(e),n,t;for(t=0;t<a.length;t++)n=a[t],!(u.indexOf(n)>=0)&&(r[n]=e[n]);return r}function V({key:e,onClick:u,active:r,id:a,role:n,disabled:t}){const v=c.useContext(y),d=c.useContext(R),x=c.useContext(S);let f=r;const o={role:n};if(d){!n&&d.role==="tablist"&&(o.role="tab");const s=d.getControllerId(e??null),m=d.getControlledId(e??null);o[h("event-key")]=e,o.id=s||a,f=r==null&&e!=null?d.activeKey===e:r,(f||!(x!=null&&x.unmountOnExit)&&!(x!=null&&x.mountOnEnter))&&(o["aria-controls"]=m)}return o.role==="tab"&&(o["aria-selected"]=f,f||(o.tabIndex=-1),t&&(o.tabIndex=-1,o["aria-disabled"]=!0)),o.onClick=U(s=>{t||(u==null||u(s),e!=null&&v&&!s.isPropagationStopped()&&v(e,s))}),[o,{isActive:f}]}const T=c.forwardRef((e,u)=>{let{as:r=k,active:a,eventKey:n}=e,t=M(e,F);const[v,d]=V(Object.assign({key:A(n,t.href),active:a},t));return v[h("active")]=d.isActive,g.jsx(r,Object.assign({},t,v,{ref:u}))});T.displayName="NavItem";const Y=T,z=["as","onSelect","activeKey","role","onKeyDown"];function G(e,u){if(e==null)return{};var r={},a=Object.keys(e),n,t;for(t=0;t<a.length;t++)n=a[t],!(u.indexOf(n)>=0)&&(r[n]=e[n]);return r}const w=()=>{},E=h("event-key"),D=c.forwardRef((e,u)=>{let{as:r="div",onSelect:a,activeKey:n,role:t,onKeyDown:v}=e,d=G(e,z);const x=_(),f=c.useRef(!1),o=c.useContext(y),s=c.useContext(S);let m,K;s&&(t=t||"tablist",n=s.activeKey,m=s.getControlledId,K=s.getControllerId);const C=c.useRef(null),N=l=>{const i=C.current;if(!i)return null;const b=L(i,`[${E}]:not([aria-disabled=true])`),I=i.querySelector("[aria-selected=true]");if(!I||I!==document.activeElement)return null;const O=b.indexOf(I);if(O===-1)return null;let p=O+l;return p>=b.length&&(p=0),p<0&&(p=b.length-1),b[p]},j=(l,i)=>{l!=null&&(a==null||a(l,i),o==null||o(l,i))},P=l=>{if(v==null||v(l),!s)return;let i;switch(l.key){case"ArrowLeft":case"ArrowUp":i=N(-1);break;case"ArrowRight":case"ArrowDown":i=N(1);break;default:return}i&&(l.preventDefault(),j(i.dataset[q("EventKey")]||null,l),f.current=!0,x())};c.useEffect(()=>{if(C.current&&f.current){const l=C.current.querySelector(`[${E}][aria-selected=true]`);l==null||l.focus()}f.current=!1});const $=B(u,C);return g.jsx(y.Provider,{value:j,children:g.jsx(R.Provider,{value:{role:t,activeKey:A(n),getControlledId:m||w,getControllerId:K||w},children:g.jsx(r,Object.assign({},d,{onKeyDown:P,ref:$,role:t}))})})});D.displayName="Nav";const te=Object.assign(D,{Item:Y});export{te as B,S as T,V as u};
