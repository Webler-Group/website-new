import{r as i,u as g,b9 as k,ba as v,b5 as $,j as e,c as j,aO as I,bb as B,d as P,F as R,U as z,B as C,G as F}from"./index-39cfc24f.js";import{C as L}from"./CodeList-f241da5f.js";import{M as b}from"./Modal-eb79c083.js";const y=i.forwardRef(({bsPrefix:s,active:m,disabled:d,eventKey:h,className:u,variant:c,action:o,as:f,...a},n)=>{s=g(s,"list-group-item");const[l,p]=k({key:v(h,a.href),active:m,...a}),x=$(r=>{if(d){r.preventDefault(),r.stopPropagation();return}l.onClick(r)});d&&a.tabIndex===void 0&&(a.tabIndex=-1,a["aria-disabled"]=!0);const t=f||(o?a.href?"a":"button":"div");return e.jsx(t,{ref:n,...a,...l,onClick:x,className:j(u,s,p.isActive&&"active",d&&"disabled",c&&`${s}-${c}`,o&&`${s}-action`)})});y.displayName="ListGroupItem";const G=y,S=i.forwardRef((s,m)=>{const{className:d,bsPrefix:h,variant:u,horizontal:c,numbered:o,as:f="div",...a}=I(s,{activeKey:"onSelect"}),n=g(h,"list-group");let l;return c&&(l=c===!0?"horizontal":`horizontal-${c}`),e.jsx(B,{ref:m,...a,as:f,className:j(d,n,u&&`${n}-${u}`,l&&`${n}-${l}`,o&&`${n}-numbered`)})});S.displayName="ListGroup";const w=Object.assign(S,{Item:G}),E=({value:s,setValue:m,onSelect:d,placeholder:h,maxWidthPx:u})=>{const{sendJsonRequest:c}=P(),[o,f]=i.useState([]),[a,n]=i.useState(!1),l=i.useRef(null);i.useEffect(()=>{if(!s)return;const t=setTimeout(async()=>{const r=await c("/Profile/Search","POST",{searchQuery:s});r&&r.users&&f(r.users)},500);return()=>clearTimeout(t)},[s]);const p=t=>{d(t),l.current&&l.current.blur()},x=u?{width:"100%",maxWidth:`${u}px`}:{width:"100%"};return e.jsxs("div",{className:"position-relative",style:x,children:[e.jsx(R.Control,{autoComplete:"off",ref:l,type:"text",value:s,onChange:t=>m(t.target.value),placeholder:h??"Search users...",size:"sm",onFocus:()=>n(!0),onBlur:()=>setTimeout(()=>n(!1),100)}),a&&s&&e.jsx(w,{className:"position-absolute",style:{top:"100%",left:0,zIndex:1e3,background:"white",border:"1px solid #ccc",borderRadius:"0.25rem",maxHeight:"150px",overflowY:"auto",width:"100%",boxShadow:"0 2px 6px rgba(0,0,0,0.15)"},children:o.map(t=>e.jsxs(w.Item,{action:!0,onClick:()=>p(t),onMouseDown:r=>r.preventDefault(),style:{cursor:"pointer"},className:"d-flex align-items-start gap-2",children:[e.jsx(z,{avatarImage:t.avatar,size:32}),e.jsx("span",{children:t.name})]},t.id))}),a&&s&&o.length===0&&e.jsx("div",{className:"position-absolute text-muted small p-2",style:{top:"100%",left:0,zIndex:1e3,background:"white",border:"1px solid #ccc",borderRadius:"0.25rem",width:"100%",boxShadow:"0 2px 6px rgba(0,0,0,0.15)"},children:"No users found"})]})};const T=({onSubmit:s})=>{const m={page:1,filter:1,searchQuery:"",language:null,ready:!1},[d,h]=i.useState(m),[u,c]=i.useState(!1),[o,f]=i.useState([]),a=()=>{h({...m,ready:!0}),c(!0)},n=()=>{f([]),c(!1)},l=t=>{f(r=>r.includes(t)?r.filter(N=>N!=t):[...r,t])},p=i.useCallback(t=>o.includes(t),[o]),x=()=>{s(o.map(t=>window.location.origin+`/compiler-playground/${t}`)),n()};return e.jsxs(e.Fragment,{children:[e.jsx(C,{variant:"link",className:"text-secondary",onClick:a,children:e.jsx(F,{})}),e.jsxs(b,{className:"wb-post-attachment-select-modal",backdropClassName:"wb-post-attachment-select-modal__backdrop",show:u,onHide:n,centered:!0,fullscreen:"sm-down",children:[e.jsx(b.Header,{closeButton:!0,children:e.jsx(b.Title,{children:"Codes"})}),e.jsx(b.Body,{className:"overflow-auto wb-post-attachment-select-modal__body",children:e.jsx(L,{codesState:d,setCodesState:h,onCodeClick:l,isCodeSelected:p,showNewCodeBtn:!1})}),e.jsxs(b.Footer,{children:[e.jsx(C,{variant:"secondary",onClick:n,children:"Cancel"}),e.jsxs(C,{variant:"primary",onClick:x,children:["Done ",o.length>0&&"("+o.length+")"]})]})]})]})};export{w as L,T as P,E as U};
