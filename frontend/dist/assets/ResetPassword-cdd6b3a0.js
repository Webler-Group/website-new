import{u as S,g as F,f as P,r,d as N,j as s,i as m}from"./index-c193dc40.js";import{P as y}from"./PasswordFormControl-4c18b887.js";import{R}from"./RequestResultAlert-5538ea88.js";import{C as k}from"./Container-f1c6a440.js";import{B as l}from"./Button-b8db3fe4.js";import{F as v,a as C,b as L}from"./Form-19731f2f.js";import"./index.esm-70a25315.js";import"./iconBase-11f2ad60.js";import"./InputGroup-410042b4.js";import"./ThemeProvider-ec2a0fef.js";import"./createWithBsPrefix-6b62a92d.js";import"./InputGroupContext-b5682b53.js";import"./FormControl-cc700203.js";import"./index-3b750fb9.js";import"./Alert-e497ba45.js";import"./useMergedRefs-2ac3001c.js";import"./Anchor-22c8f756.js";import"./CloseButton-710dc957.js";import"./divWithClassName-a88e1404.js";import"./Col-6d72f785.js";const Z=()=>{const[o,A]=S(),{sendJsonRequest:d}=F(),{logout:u}=P(),[a,p]=r.useState(""),[x,n]=r.useState(),[h,i]=r.useState(!1),[c,g]=r.useState(0),j=N(),w=async e=>{e.preventDefault(),i(!0),await b(),i(!1)},b=async()=>{n(void 0);const e=o.get("id"),f=o.get("token"),t=await d("/Auth/ResetPassword","POST",{password:a,resetId:e,token:f});t&&typeof t.success=="boolean"?(t.success&&u(),g(t.success?1:2)):n(t.error)};return s.jsx(s.Fragment,{children:s.jsx("div",{className:"wb-login-wrapper",children:s.jsxs(k,{className:"wb-login-container",children:[s.jsx("h1",{className:"text-center mb-4",children:"Password Recovery"}),c!==0?c===1?s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-success text-center",children:"Your password has been successfully changed."}),s.jsx(l,{className:"w-100 d-block mt-2",onClick:()=>j("/Users/Login"),children:"Sign in"})]}):s.jsx(s.Fragment,{children:s.jsxs("p",{className:"text-danger text-center",children:["Something went wrong. The link could be expired or corrupt. ",s.jsx(m,{to:"/Users/Forgot-Password",children:"Try again"})]})}):s.jsxs(s.Fragment,{children:[s.jsxs(v,{onSubmit:e=>w(e),children:[s.jsx(R,{errors:x}),s.jsxs(C,{children:[s.jsx(L,{children:"Choose a new password for your account"}),s.jsx(y,{password:a,setPassword:p})]}),s.jsx(l,{className:"mt-2 w-100 d-block",type:"submit",disabled:h,children:"Recover"})]}),s.jsx("p",{className:"text-end mt-2",children:s.jsx(m,{to:"/Users/Login",children:"‚Üê Sign in"})})]})]})})})};export{Z as default};
