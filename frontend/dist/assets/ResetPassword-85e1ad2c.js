import{u as S,g as F,f as P,r,d as N,j as s,i as m}from"./index-b2f3d98e.js";import{P as y}from"./PasswordFormControl-80487ae4.js";import{R}from"./RequestResultAlert-53291c96.js";import{C as k}from"./Container-aded6eb3.js";import{B as l}from"./Button-a8db19a8.js";import{F as v,a as C,b as L}from"./Form-4647d33b.js";import"./index.esm-4a619d62.js";import"./iconBase-7a454df3.js";import"./InputGroup-a2b32b7f.js";import"./ThemeProvider-c318c21f.js";import"./createWithBsPrefix-c6deafcc.js";import"./InputGroupContext-66571c02.js";import"./FormControl-a036e454.js";import"./index-11ee592c.js";import"./Alert-f0171b20.js";import"./useMergedRefs-f5c2a768.js";import"./Anchor-1fe32030.js";import"./CloseButton-439f23fc.js";import"./divWithClassName-9b80bbe4.js";import"./Col-1c3a04d0.js";const Z=()=>{const[o,A]=S(),{sendJsonRequest:d}=F(),{logout:u}=P(),[a,p]=r.useState(""),[x,n]=r.useState(),[h,i]=r.useState(!1),[c,g]=r.useState(0),j=N(),w=async e=>{e.preventDefault(),i(!0),await b(),i(!1)},b=async()=>{n(void 0);const e=o.get("id"),f=o.get("token"),t=await d("/Auth/ResetPassword","POST",{password:a,resetId:e,token:f});t&&typeof t.success=="boolean"?(t.success&&u(),g(t.success?1:2)):n(t.error)};return s.jsx(s.Fragment,{children:s.jsx("div",{className:"wb-login-wrapper",children:s.jsxs(k,{className:"wb-login-container",children:[s.jsx("h1",{className:"text-center mb-4",children:"Password Recovery"}),c!==0?c===1?s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-success text-center",children:"Your password has been successfully changed."}),s.jsx(l,{className:"w-100 d-block mt-2",onClick:()=>j("/Users/Login"),children:"Sign in"})]}):s.jsx(s.Fragment,{children:s.jsxs("p",{className:"text-danger text-center",children:["Something went wrong. The link could be expired or corrupt. ",s.jsx(m,{to:"/Users/Forgot-Password",children:"Try again"})]})}):s.jsxs(s.Fragment,{children:[s.jsxs(v,{onSubmit:e=>w(e),children:[s.jsx(R,{errors:x}),s.jsxs(C,{children:[s.jsx(L,{children:"Choose a new password for your account"}),s.jsx(y,{password:a,setPassword:p})]}),s.jsx(l,{className:"mt-2 w-100 d-block",type:"submit",disabled:h,children:"Recover"})]}),s.jsx("p",{className:"text-end mt-2",children:s.jsx(m,{to:"/Users/Login",children:"‚Üê Sign in"})})]})]})})})};export{Z as default};
