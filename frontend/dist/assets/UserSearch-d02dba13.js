import{r as p,W as w,a_ as y,a$ as j,aW as v,j as s,X as N,aq as I,b0 as k,Z as S,u as C,m as R,P as L}from"./index-343737ff.js";const g=p.forwardRef(({bsPrefix:e,active:n,disabled:t,eventKey:i,className:a,variant:d,action:m,as:f,...o},c)=>{e=w(e,"list-group-item");const[l,h]=y({key:j(i,o.href),active:n,...o}),x=v(u=>{if(t){u.preventDefault(),u.stopPropagation();return}l.onClick(u)});t&&o.tabIndex===void 0&&(o.tabIndex=-1,o["aria-disabled"]=!0);const r=f||(m?o.href?"a":"button":"div");return s.jsx(r,{ref:c,...o,...l,onClick:x,className:N(a,e,h.isActive&&"active",t&&"disabled",d&&`${e}-${d}`,m&&`${e}-action`)})});g.displayName="ListGroupItem";const P=g,$=p.forwardRef((e,n)=>{const{className:t,bsPrefix:i,variant:a,horizontal:d,numbered:m,as:f="div",...o}=I(e,{activeKey:"onSelect"}),c=w(i,"list-group");let l;return d&&(l=d===!0?"horizontal":`horizontal-${d}`),s.jsx(k,{ref:n,...o,as:f,className:N(t,c,a&&`${c}-${a}`,l&&`${c}-${l}`,m&&`${c}-numbered`)})});$.displayName="ListGroup";const b=Object.assign($,{Item:P}),B=({data:e})=>{let n="",t="",i="#",a="";switch(e.type){case 1:n=e.codeName||"Untitled Code",t=`${e.codeLanguage} â€¢ ${e.userName}`,i=`/Compiler-Playground/${e.codeId}`,a="code";break;case 2:n=e.questionTitle||"Question",t=`${e.userName}`,i=`/Discuss/${e.questionId}`,a="question";break;case 4:n=`${e.feedMessage}`,t=`${e.userName}`,i=`/feed/${e.feedId}`,a="post";break;default:return null}return s.jsx(S.LinkContainer,{to:i,style:{cursor:"pointer"},children:s.jsxs("div",{className:"d-flex flex-column border shadow-sm rounded-3 bg-white p-2",children:[s.jsxs("div",{className:"d-flex gap-2 justify-content-between",children:[s.jsx("h6",{className:"fw-semibold",style:{wordBreak:"break-word",whiteSpace:"normal"},children:n}),s.jsx("div",{className:"small text-muted",style:{whiteSpace:"nowrap"},children:a})]}),s.jsx("div",{className:"small text-muted",children:t})]})})},G=({value:e,setValue:n,onSelect:t,placeholder:i,maxWidthPx:a})=>{const{sendJsonRequest:d}=C(),[m,f]=p.useState([]),[o,c]=p.useState(!1),l=p.useRef(null);p.useEffect(()=>{if(!e)return;const r=setTimeout(async()=>{const u=await d("/Profile/Search","POST",{searchQuery:e});u&&u.users&&f(u.users)},500);return()=>clearTimeout(r)},[e]);const h=r=>{t(r),l.current&&l.current.blur()},x=a?{width:"100%",maxWidth:`${a}px`}:{width:"100%"};return s.jsxs("div",{className:"position-relative",style:x,children:[s.jsx(R.Control,{autoComplete:"off",ref:l,type:"text",value:e,onChange:r=>n(r.target.value),placeholder:i??"Search users...",size:"sm",onFocus:()=>c(!0),onBlur:()=>setTimeout(()=>c(!1),100)}),o&&e&&s.jsx(b,{className:"position-absolute",style:{top:"100%",left:0,zIndex:1e3,background:"white",border:"1px solid #ccc",borderRadius:"0.25rem",maxHeight:"150px",overflowY:"auto",width:"100%",boxShadow:"0 2px 6px rgba(0,0,0,0.15)"},children:m.map(r=>s.jsxs(b.Item,{action:!0,onClick:()=>h(r),onMouseDown:u=>u.preventDefault(),style:{cursor:"pointer"},className:"d-flex align-items-start gap-2",children:[s.jsx(L,{avatarImage:r.avatar,size:32}),s.jsx("span",{children:r.name})]},r.id))}),o&&e&&m.length===0&&s.jsx("div",{className:"position-absolute text-muted small p-2",style:{top:"100%",left:0,zIndex:1e3,background:"white",border:"1px solid #ccc",borderRadius:"0.25rem",width:"100%",boxShadow:"0 2px 6px rgba(0,0,0,0.15)"},children:"No users found"})]})};export{b as L,B as P,G as U};
