import{aY as k,r as s,aZ as H,j as i,a_ as g,a$ as y,b0 as D,u as j,b1 as I,c as p,b2 as M,b3 as _}from"./index-bd769196.js";var T=Math.pow(2,31)-1;function N(t,e,a){var n=a-Date.now();t.current=n<=T?setTimeout(e,n):setTimeout(function(){return N(t,e,a)},T)}function A(){var t=k(),e=s.useRef();return H(function(){return clearTimeout(e.current)}),s.useMemo(function(){var a=function(){return clearTimeout(e.current)};function n(r,o){o===void 0&&(o=0),t()&&(a(),o<=T?e.current=setTimeout(r,o):N(e,r,Date.now()+o))}return{set:n,clear:a}},[])}const G={[y]:"showing",[D]:"showing show"},w=s.forwardRef((t,e)=>i.jsx(g,{...t,ref:e,transitionClasses:G}));w.displayName="ToastFade";const O=w,S=s.createContext({onClose(){}}),$=S,b=s.forwardRef(({bsPrefix:t,closeLabel:e="Close",closeVariant:a,closeButton:n=!0,className:r,children:o,...l},u)=>{t=j(t,"toast-header");const c=s.useContext($),d=I(f=>{c==null||c.onClose==null||c.onClose(f)});return i.jsxs("div",{ref:u,...l,className:p(t,r),children:[o,n&&i.jsx(M,{"aria-label":e,variant:a,onClick:d,"data-dismiss":"toast"})]})});b.displayName="ToastHeader";const W=b,X=_("toast-body"),B=s.forwardRef(({bsPrefix:t,className:e,transition:a=O,show:n=!0,animation:r=!0,delay:o=5e3,autohide:l=!1,onClose:u,bg:c,...d},f)=>{t=j(t,"toast");const v=s.useRef(o),m=s.useRef(u);s.useEffect(()=>{v.current=o,m.current=u},[o,u]);const h=A(),x=!!(l&&n),C=s.useCallback(()=>{x&&(m.current==null||m.current())},[x]);s.useEffect(()=>{h.set(C,v.current)},[h,C]);const F=s.useMemo(()=>({onClose:u}),[u]),E=!!(a&&r),R=i.jsx("div",{...d,ref:f,className:p(t,e,c&&`bg-${c}`,!E&&(n?"show":"hide")),role:"alert","aria-live":"assertive","aria-atomic":"true"});return i.jsx($.Provider,{value:F,children:E&&a?i.jsx(a,{in:n,unmountOnExit:!0,children:R}):R})});B.displayName="Toast";const L=Object.assign(B,{Body:X,Header:W});export{L as T};
