import{r as h,W as j,a_ as k,a$ as $,aW as v,j as s,X as g,aq as I,b0 as P,Z as B,u as L,m as R,P as z,B as w,b1 as M}from"./index-c1ca0331.js";import{C as F}from"./CodeList-29fdca39.js";import{M as b}from"./Modal-3b9ccc15.js";const y=h.forwardRef(({bsPrefix:e,active:n,disabled:o,eventKey:l,className:a,variant:m,action:c,as:f,...r},i)=>{e=j(e,"list-group-item");const[u,p]=k({key:$(l,r.href),active:n,...r}),x=v(d=>{if(o){d.preventDefault(),d.stopPropagation();return}u.onClick(d)});o&&r.tabIndex===void 0&&(r.tabIndex=-1,r["aria-disabled"]=!0);const t=f||(c?r.href?"a":"button":"div");return s.jsx(t,{ref:i,...r,...u,onClick:x,className:g(a,e,p.isActive&&"active",o&&"disabled",m&&`${e}-${m}`,c&&`${e}-action`)})});y.displayName="ListGroupItem";const A=y,N=h.forwardRef((e,n)=>{const{className:o,bsPrefix:l,variant:a,horizontal:m,numbered:c,as:f="div",...r}=I(e,{activeKey:"onSelect"}),i=j(l,"list-group");let u;return m&&(u=m===!0?"horizontal":`horizontal-${m}`),s.jsx(P,{ref:n,...r,as:f,className:g(o,i,a&&`${i}-${a}`,u&&`${i}-${u}`,c&&`${i}-numbered`)})});N.displayName="ListGroup";const C=Object.assign(N,{Item:A}),q=({data:e})=>{let n="",o="",l="#",a="";switch(e.type){case 1:n=e.codeName||"Untitled Code",o=`${e.codeLanguage} â€¢ ${e.userName}`,l=`/Compiler-Playground/${e.codeId}`,a="code";break;case 2:n=e.questionTitle||"Question",o=`${e.userName}`,l=`/Discuss/${e.questionId}`,a="question";break;case 4:n=`${e.feedMessage}`,o=`${e.userName}`,l=`/feed/${e.feedId}`,a="post";break;default:return null}return s.jsx(B.LinkContainer,{to:l,style:{cursor:"pointer"},children:s.jsxs("div",{className:"d-flex flex-column border shadow-sm rounded-3 bg-white p-2",children:[s.jsxs("div",{className:"d-flex gap-2 justify-content-between",children:[s.jsx("h6",{className:"fw-semibold",style:{wordBreak:"break-word",whiteSpace:"normal"},children:n}),s.jsx("div",{className:"small text-muted",style:{whiteSpace:"nowrap"},children:a})]}),s.jsx("div",{className:"small text-muted",children:o})]})})},E=({value:e,setValue:n,onSelect:o,placeholder:l,maxWidthPx:a})=>{const{sendJsonRequest:m}=L(),[c,f]=h.useState([]),[r,i]=h.useState(!1),u=h.useRef(null);h.useEffect(()=>{if(!e)return;const t=setTimeout(async()=>{const d=await m("/Profile/Search","POST",{searchQuery:e});d&&d.users&&f(d.users)},500);return()=>clearTimeout(t)},[e]);const p=t=>{o(t),u.current&&u.current.blur()},x=a?{width:"100%",maxWidth:`${a}px`}:{width:"100%"};return s.jsxs("div",{className:"position-relative",style:x,children:[s.jsx(R.Control,{autoComplete:"off",ref:u,type:"text",value:e,onChange:t=>n(t.target.value),placeholder:l??"Search users...",size:"sm",onFocus:()=>i(!0),onBlur:()=>setTimeout(()=>i(!1),100)}),r&&e&&s.jsx(C,{className:"position-absolute",style:{top:"100%",left:0,zIndex:1e3,background:"white",border:"1px solid #ccc",borderRadius:"0.25rem",maxHeight:"150px",overflowY:"auto",width:"100%",boxShadow:"0 2px 6px rgba(0,0,0,0.15)"},children:c.map(t=>s.jsxs(C.Item,{action:!0,onClick:()=>p(t),onMouseDown:d=>d.preventDefault(),style:{cursor:"pointer"},className:"d-flex align-items-start gap-2",children:[s.jsx(z,{avatarImage:t.avatar,size:32}),s.jsx("span",{children:t.name})]},t.id))}),r&&e&&c.length===0&&s.jsx("div",{className:"position-absolute text-muted small p-2",style:{top:"100%",left:0,zIndex:1e3,background:"white",border:"1px solid #ccc",borderRadius:"0.25rem",width:"100%",boxShadow:"0 2px 6px rgba(0,0,0,0.15)"},children:"No users found"})]})};const _=({onSubmit:e})=>{const n={page:1,filter:1,searchQuery:"",language:null,ready:!1},[o,l]=h.useState(n),[a,m]=h.useState(!1),[c,f]=h.useState([]),r=()=>{l({...n,ready:!0}),m(!0)},i=()=>{f([]),m(!1)},u=t=>{f(d=>d.includes(t)?d.filter(S=>S!=t):[...d,t])},p=h.useCallback(t=>c.includes(t),[c]),x=()=>{e(c.map(t=>window.location.origin+`/compiler-playground/${t}`)),i()};return s.jsxs(s.Fragment,{children:[s.jsx(w,{variant:"link",className:"text-secondary",onClick:r,children:s.jsx(M,{})}),s.jsxs(b,{className:"wb-post-attachment-select-modal",backdropClassName:"wb-post-attachment-select-modal__backdrop",show:a,onHide:i,centered:!0,fullscreen:"sm-down",children:[s.jsx(b.Header,{closeButton:!0,children:s.jsx(b.Title,{children:"Codes"})}),s.jsx(b.Body,{className:"overflow-auto wb-post-attachment-select-modal__body",children:s.jsx(F,{codesState:o,setCodesState:l,onCodeClick:u,isCodeSelected:p,showNewCodeBtn:!1})}),s.jsxs(b.Footer,{children:[s.jsx(w,{variant:"secondary",onClick:i,children:"Cancel"}),s.jsxs(w,{variant:"primary",onClick:x,children:["Done ",c.length>0&&"("+c.length+")"]})]})]})]})};export{C as L,q as P,E as U,_ as a};
