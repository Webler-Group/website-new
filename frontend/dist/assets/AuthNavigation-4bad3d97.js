import{r as L,j as e,g as y,f as D,d as F,i as l}from"./index-c193dc40.js";import{d as P,e as w}from"./index.esm-54ce3fd1.js";import{a as A}from"./index.esm-70a25315.js";import{r as m}from"./index-99a242c6.js";import{P as k}from"./ProfileAvatar-bb4fbb5b.js";import{b as R,N as d}from"./Nav-33e647f3.js";import{u as b,c as B}from"./ThemeProvider-ec2a0fef.js";import{D as s}from"./EllipsisDropdownToggle-442591de.js";import{B as c}from"./Button-b8db3fe4.js";const x=L.forwardRef(({id:a,title:r,children:n,bsPrefix:i,className:o,rootCloseEvent:j,menuRole:h,disabled:p,active:u,renderMenuOnMount:g,menuVariant:f,...v},N)=>{const I=b(void 0,"nav-item");return e.jsxs(s,{ref:N,...v,className:B(o,I),children:[e.jsx(s.Toggle,{id:a,eventKey:null,active:u,disabled:p,childBsPrefix:i,as:R,children:r}),e.jsx(s.Menu,{role:h,renderOnMount:g,rootCloseEvent:j,variant:f,children:n})]})});x.displayName="NavDropdown";const t=Object.assign(x,{Item:s.Item,ItemText:s.ItemText,Divider:s.Divider,Header:s.Header}),G=()=>{const{sendJsonRequest:a}=y(),{userInfo:r,logout:n}=D(),i=F(),o=()=>{a("/Auth/Logout","POST").then(()=>{n(),i("/Users/Login")})};return e.jsx("div",{className:"d-sm-flex justify-content-center",children:e.jsx(d,{children:r?e.jsx(e.Fragment,{children:e.jsx(d.Item,{children:e.jsxs(t,{align:"end",title:e.jsxs(e.Fragment,{children:[" ",e.jsx(k,{size:32,avatarImage:r.avatarImage})," "]}),menuVariant:"light",children:[e.jsx(m.LinkContainer,{to:"/Profile",children:e.jsxs(t.Item,{children:[e.jsx("b",{style:{fontFamily:"monospace"},children:r.name}),e.jsx("br",{}),e.jsx("span",{className:"text-secondary",children:"Go to profile"})]})}),e.jsx(t.Divider,{}),e.jsxs(l,{className:"dropdown-item",to:"/Profile/"+r.id+"?settings=true",children:[e.jsx(A,{})," Settings"]}),e.jsxs(l,{className:"dropdown-item",to:"/Faq",children:[e.jsx(P,{})," Help"]}),e.jsxs(t.Item,{onClick:o,children:[e.jsx(w,{})," Logout"]})]})})}):e.jsx(e.Fragment,{children:e.jsxs(d.Item,{children:[e.jsx(m.LinkContainer,{to:"/Users/Login",children:e.jsx(c,{size:"sm",variant:"primary",className:"me-2",children:"Log in"})}),e.jsx(m.LinkContainer,{to:"/Users/Register",children:e.jsx(c,{size:"sm",variant:"primary",children:"Register"})})]})})})})};export{G as A};
