import{r as i,R as d}from"./index-b2f3d98e.js";function x(r,e,t){const o=i.useRef(r!==void 0),[s,n]=i.useState(e),c=r!==void 0,$=o.current;return o.current=c,!c&&$&&s!==e&&n(e),[c?r:s,i.useCallback((a,...p)=>{t&&t(a,...p),n(a)},[t])]}const f={prefix:String(Math.round(Math.random()*1e10)),current:0,isSSR:!1},l=d.createContext(f);let m=!!(typeof window<"u"&&window.document&&window.document.createElement),u=new WeakMap;function v(r=!1){let e=i.useContext(l),t=i.useRef(null);if(t.current===null&&!r){var o,s;let n=(o=d.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||o===void 0||(s=o.ReactCurrentOwner)===null||s===void 0?void 0:s.current;if(n){let c=u.get(n);c==null?u.set(n,{id:e.current,state:n.memoizedState}):n.memoizedState!==c.state&&(e.current=c.id,u.delete(n))}t.current=++e.current}return t.current}function b(r){let e=i.useContext(l);e===f&&!m&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let t=v(!!r);return r||`react-aria${e.prefix}-${t}`}export{b as $,x as u};
